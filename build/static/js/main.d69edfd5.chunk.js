(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(21)},17:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),c=a.n(i),l=(a(15),a(17),a(6)),s=a.n(l),o=a(9),u=a(1),m=a(2),d=a(4),p=a(3),h=a(5),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={title:"Weather widget",subTitle:"when the window is too far away!"},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"title-panel"},r.a.createElement("h1",{className:"title-panel__title"},this.state.title),r.a.createElement("p",{className:"title-panel__subtitle"},this.state.subTitle))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).allPopulated=function(e){return Object.values(e).some(function(e){return e})},a.handleChange=function(e){var t=a.state.fields;t[e.target.name]=e.target.value,a.setState({valid:a.allPopulated(t)})},a.validateInput=function(){var e=a.state.fields;return a.setState({valid:a.allPopulated(e),errors:a.config.msgInvalidInput}),a.state.valid},a.handleSubmit=function(e){e.preventDefault(),a.validateInput();var t=a.state.fields;if(!a.state.valid)return a.allPopulated(t)||console.log("empty!"),console.log("invalid");a.props.getWeather(t)},a.state={fields:{city:""},valid:!1},a.config={msgInvalidInput:"Please provide a City!"},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){this.allPopulated(this.state.fields.city,this.state.fields.country);return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"city",onChange:this.handleChange,placeholder:"City",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Get weather",className:"button"})))}}]),t}(n.Component),g=function(e){return r.a.createElement(r.a.Fragment,null,e.description&&r.a.createElement("p",null,r.a.createElement("strong",null,"Description:")," ",e.description," "),e.city&&e.country&&r.a.createElement("p",null,r.a.createElement("strong",null,"Location:")," ",e.city,", ",e.country," "),e.temperature&&r.a.createElement("p",null,r.a.createElement("strong",null,"Temperature:")," ",e.temperature,"\xb0C"),e.humidity&&r.a.createElement("p",null,r.a.createElement("strong",null,"Humidity:")," ",e.humidity," "))},b=function(e){return r.a.createElement("div",{className:"weatherform-feedback"},r.a.createElement("p",null,e.content))},y="b5481847c2fbdcc96da8f27505c56e4c",E="metric",w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).isValidResponse=function(e){return 200===e.cod},a.capitaliseFirst=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},a.getWeather=function(){var e=Object(o.a)(s.a.mark(function e(t){var n,r,i,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Getting weather"),n=t.city,r="http://api.openweathermap.org/data/2.5/weather?q=".concat(n,",UK&appid=").concat(y,"&units=").concat(E),e.next=5,fetch(r);case 5:return i=e.sent,e.next=8,i.json();case 8:c=e.sent,a.setState({loading:!1,data:c||null,errorMessage:c.message?"".concat(a.capitaliseFirst(c.message),". Keep searching!"):null});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.config={errorMessageInput:"Please enter a search",errorMessageAPI:"API error"},a.state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this.state.data;if(this.state.errorMessage||!t){var a=this.state.errorMessage;e=r.a.createElement(b,{content:a})}else e=r.a.createElement(g,{temperature:t.main.temp,city:t.name,country:t.sys.country,description:this.capitaliseFirst(t.weather[0].description),humidity:t.main.humidity});return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"content"},r.a.createElement(f,null),r.a.createElement("div",{className:"weather-panel"},r.a.createElement(v,{getWeather:this.getWeather,validate:!0}),r.a.createElement("div",{className:"weatherform-feedback"},r.a.createElement("div",{className:"weatherform-feedback__content"},e)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.d69edfd5.chunk.js.map